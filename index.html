<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Confession</title>
<style>
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #ff9ecf, #ffc7e8);
        overflow: hidden;
    }

    .card {
        background: rgba(255, 255, 255, 0.85);
        padding: 25px;
        width: 90%;
        max-width: 420px;
        border-radius: 20px;
        box-shadow: 0 0 20px rgba(0,0,0,0.1);
        text-align: center;
        position: relative;
        z-index: 10;
    }

    #message {
        font-size: 18px;
        white-space: pre-wrap;
        display: none;
    }

    input {
        width: 90%;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #aaa;
        font-size: 16px;
        margin-bottom: 10px;
    }

    button {
        padding: 10px 20px;
        border: none;
        background: #ff5fa2;
        color: white;
        font-size: 16px;
        border-radius: 10px;
        cursor: pointer;
    }

    button:hover {
        background: #ff3e8a;
    }

    /* Floating Hearts Background */
    .heart {
        position: fixed;
        width: 18px;
        height: 18px;
        background: pink;
        transform: rotate(45deg);
        animation: floatUp 6s linear infinite;
        opacity: 0.8;
        pointer-events: none;
    }

    .heart:before,
    .heart:after {
        content: "";
        position: absolute;
        width: 18px;
        height: 18px;
        background: pink;
        border-radius: 50%;
    }

    .heart:before {
        top: -9px;
        left: 0;
    }

    .heart:after {
        left: 9px;
        top: 0;
    }

    @keyframes floatUp {
        0% { transform: translateY(0) rotate(45deg); opacity: 0.9; }
        100% { transform: translateY(-120vh) rotate(45deg); opacity: 0; }
    }

    /* Heart pop during typing */
    @keyframes popFloat {
        0% { transform: scale(0.5) translateY(0); opacity: 1; }
        100% { transform: scale(1.2) translateY(-60px); opacity: 0; }
    }
</style>
</head>
<body>

<!-- Floating Hearts -->
<div id="hearts"></div>

<div class="card">
    <div id="input-section">
        <h3>Enter your name</h3>
        <input type="text" id="nameInput" placeholder="Your name...">
        <button onclick="startMessage()">Start</button>
    </div>

    <p id="message"></p>
</div>

<script>
    const fullText = (name) => 
`Hi ${name}, I made this short message to confess my feelings for you. 

I fell for you because of your smile, your eyes, and your personality not just how you look. 
You have this way of making my heart feel something real.

Since Grade 7 crush na po talaga kita. 
And I know may idea ka na po pero ngayon lang po ako nagkaroon ng enough courage para mag-confess sayo.

I admire everything about you your humor, your kindness, your randomness, your laugh, your smile, and the way your eyes light up whenever you're happy or excited.

I'm so happy na finally nasabi ko na sayo to, kasi matagal ko na talagang tinatago ang feelings ko para sayo.  
You deserve to know how special you are to me.

Sorry for the grammatical error's. ❤️`;

    function startMessage() {
        const name = document.getElementById("nameInput").value.trim();
        if (name === "") return alert("Please enter a name ♥");

        document.getElementById("input-section").style.display = "none";

        const msg = document.getElementById("message");
        msg.style.display = "block";

        let text = fullText(name);
        let i = 0;

        function type() {
            if (i < text.length) {
                msg.textContent += text.charAt(i);

                popHeart(); // ❤️ Heart each letter

                i++;
                setTimeout(type, 70); // slower typing
            }
        }

        type();
    }

    // Heart during typing
    function popHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");

        const msg = document.getElementById("message");
        const rect = msg.getBoundingClientRect();

        heart.style.left = (rect.left + rect.width / 2) + "px";
        heart.style.top = (rect.top + rect.height / 2) + "px";

        heart.style.width = "14px";
        heart.style.height = "14px";
        heart.style.background = "pink";
        heart.style.animation = "popFloat 1.2s ease forwards";

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 1500);
    }

    // Background floating hearts
    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");

        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = (5 + Math.random() * 3) + "s";
        heart.style.opacity = Math.random();

        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 8000);
    }

    setInterval(createHeart, 400);
</script>

</body>
</html>
